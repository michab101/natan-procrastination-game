<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Natan's Procrastination Station üò¥</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üò¥</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            overflow: hidden;
            font-family: 'Comic Sans MS', 'Chalkboard', cursive, sans-serif;
            touch-action: manipulation;
            background: linear-gradient(to bottom, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
        }

        /* ============ TITLE SCREEN ============ */
        .title-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            transition: opacity 1s, transform 1s;
        }

        .title-screen.hidden {
            opacity: 0;
            transform: scale(1.1);
            pointer-events: none;
        }

        .title-logo {
            font-size: 52px;
            color: #fff;
            text-shadow: 3px 3px 0 #FF6B6B, 6px 6px 0 #4ECDC4, 0 0 30px rgba(255,255,255,0.5);
            animation: titleBounce 2s ease-in-out infinite;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .title-subtitle {
            font-size: 28px;
            color: #FFE66D;
            margin-bottom: 20px;
            font-style: italic;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-weight: bold;
        }

        .title-natan {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid #FFE66D;
            overflow: hidden;
            animation: natanSpin 4s ease-in-out infinite;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            margin: 20px 0;
        }

        .title-natan img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        @keyframes natanSpin {
            0%, 100% { transform: rotate(-5deg) scale(1); }
            25% { transform: rotate(5deg) scale(1.05); }
            50% { transform: rotate(-3deg) scale(1); }
            75% { transform: rotate(3deg) scale(1.02); }
        }

        .start-button {
            padding: 20px 50px;
            font-size: 24px;
            background: linear-gradient(45deg, #FF6B6B, #FFE66D);
            border: none;
            border-radius: 50px;
            color: #1a1a2e;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .start-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .password-hint {
            margin-top: 30px;
            color: rgba(255,255,255,0.5);
            font-size: 12px;
        }

        /* ============ GAME CONTAINER ============ */
        .game-container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* Office Background - Cozy modern office */
        .office-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg,
                #FFE4B5 0%,      /* Warm ceiling light */
                #F5DEB3 20%,     /* Wheat tone */
                #DEB887 40%,     /* Burlywood wall */
                #D2B48C 55%,     /* Tan wall bottom */
                #8B7355 60%,     /* Wall-floor transition */
                #696969 60%,     /* Floor start */
                #505050 100%    /* Floor end */
            );
        }

        /* Office Wall Details - Window with Boston skyline */
        .office-bg::before {
            content: '';
            position: absolute;
            top: 8%;
            left: 8%;
            width: 28%;
            height: 35%;
            background: linear-gradient(180deg,
                #87CEEB 0%,     /* Sky */
                #B0E0E6 40%,    /* Light sky */
                #4A6741 70%,    /* Boston Common trees */
                #3D5C3D 100%    /* Park bottom */
            );
            border: 12px solid #5D4E37;
            border-radius: 8px;
            box-shadow: inset 0 0 60px rgba(255,255,255,0.5), 0 8px 25px rgba(0,0,0,0.4);
        }

        .office-bg::after {
            content: 'üèôÔ∏è';
            position: absolute;
            top: 18%;
            left: 12%;
            font-size: 50px;
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.3));
        }

        /* Boston decorations */
        .boston-flag {
            position: absolute;
            top: 6%;
            right: 25%;
            font-size: 40px;
            z-index: 10;
            pointer-events: none;
        }

        .boston-lobster {
            position: absolute;
            top: 35%;
            right: 5%;
            font-size: 50px;
            z-index: 10;
            animation: lobsterWave 2s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes lobsterWave {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        /* Office Plant */
        .office-plant {
            position: absolute;
            bottom: 42%;
            left: 3%;
            font-size: 90px;
            z-index: 10;
            filter: drop-shadow(3px 3px 5px rgba(0,0,0,0.3));
            pointer-events: none;
        }

        /* Office Bookshelf */
        .office-shelf {
            position: absolute;
            top: 12%;
            right: 8%;
            font-size: 80px;
            z-index: 10;
            filter: drop-shadow(3px 3px 5px rgba(0,0,0,0.3));
            pointer-events: none;
        }

        /* Office Clock */
        .office-clock {
            position: absolute;
            top: 5%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 60px;
            z-index: 10;
            animation: clockTick 1s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes clockTick {
            0%, 100% { transform: translateX(-50%) rotate(-2deg); }
            50% { transform: translateX(-50%) rotate(2deg); }
        }

        /* Office Lamp */
        .office-lamp {
            position: absolute;
            bottom: 42%;
            right: 5%;
            font-size: 70px;
            z-index: 10;
            animation: lampGlow 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes lampGlow {
            0%, 100% { filter: drop-shadow(0 0 15px #FFE66D) drop-shadow(0 0 30px rgba(255,200,0,0.3)); }
            50% { filter: drop-shadow(0 0 40px #FFE66D) drop-shadow(0 0 60px rgba(255,200,0,0.5)); }
        }

        /* Pretty wooden desk */
        .desk {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(180deg,
                #8B6914 0%,      /* Top edge shine */
                #6B4423 5%,      /* Rich wood */
                #5D3A1A 30%,     /* Medium wood */
                #4A2C0F 70%,     /* Dark wood */
                #3D2409 100%     /* Bottom shadow */
            );
            border-top: 15px solid #2F1A09;
            box-shadow: 0 -15px 40px rgba(0,0,0,0.4), inset 0 5px 20px rgba(255,255,255,0.1);
        }

        /* Desk items */
        .desk::before {
            content: 'üìö‚òï';
            position: absolute;
            top: 12%;
            left: 65%;
            font-size: 45px;
        }

        .desk::after {
            content: 'üñäÔ∏èüìã';
            position: absolute;
            top: 18%;
            right: 12%;
            font-size: 35px;
        }

        .computer {
            position: absolute;
            bottom: 42%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 100px;
            animation: computerGlow 2s ease-in-out infinite;
        }

        @keyframes computerGlow {
            0%, 100% { filter: drop-shadow(0 0 10px #4ECDC4); }
            50% { filter: drop-shadow(0 0 30px #4ECDC4); }
        }

        /* Natan Character */
        .natan {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid #FFE66D;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
            animation: natanIdle 3s ease-in-out infinite;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .natan img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes natanIdle {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-5px) rotate(-2deg); }
            75% { transform: translateY(-3px) rotate(2deg); }
        }

        .natan:hover {
            transform: scale(1.2);
        }

        /* ============ UI ============ */
        .game-ui {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            display: flex;
            justify-content: space-between;
            z-index: 500;
            pointer-events: none;
        }

        .score-display {
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 20px;
            color: #FFE66D;
            font-size: 20px;
            display: flex;
            gap: 20px;
        }

        .procrastination-meter {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 25px;
            background: rgba(0,0,0,0.5);
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #FFE66D;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF6B6B, #FFE66D, #4ECDC4);
            width: 0%;
            transition: width 0.3s;
        }

        .meter-label {
            position: absolute;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 12px;
            line-height: 25px;
            text-shadow: 1px 1px 2px black;
        }

        /* ============ DISTRACTIONS ============ */
        .distraction {
            position: absolute;
            font-size: 60px;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
            transition: transform 0.2s;
            z-index: 200;
            padding: 10px;
        }

        .distraction:hover {
            transform: scale(1.3);
            filter: drop-shadow(0 0 20px gold);
            animation-play-state: paused;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* ============ DEADLINE BOSS ============ */
        .deadline {
            position: absolute;
            bottom: 45%;
            right: 10%;
            font-size: 70px;
            animation: deadlinePulse 1s ease-in-out infinite;
            cursor: pointer;
            z-index: 200;
            padding: 10px;
        }

        .deadline:hover {
            transform: scale(1.3);
            animation-play-state: paused;
        }

        @keyframes deadlinePulse {
            0%, 100% { transform: scale(1); filter: hue-rotate(0deg); }
            50% { transform: scale(1.1); filter: hue-rotate(20deg); }
        }

        /* ============ TASK PAPERS ============ */
        .task {
            position: absolute;
            font-size: 50px;
            cursor: pointer;
            animation: paperFloat 4s ease-in-out infinite;
            z-index: 200;
            padding: 10px;
        }

        .task:hover {
            transform: scale(1.3);
            animation-play-state: paused;
        }

        @keyframes paperFloat {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
        }

        /* ============ SPARKLES ============ */
        .sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkleAnim 0.8s ease-out forwards;
            z-index: 1000;
        }

        @keyframes sparkleAnim {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(1.5) rotate(180deg); opacity: 0; }
        }

        /* ============ POPUP ============ */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            color: white;
            z-index: 2000;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .popup.visible {
            transform: translate(-50%, -50%) scale(1);
        }

        .popup h2 {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .popup p {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .popup button {
            padding: 15px 40px;
            font-size: 20px;
            background: #FFE66D;
            border: none;
            border-radius: 30px;
            color: #1a1a2e;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
        }

        /* ============ WORD DISPLAY ============ */
        .word-popup {
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            padding: 20px 40px;
            border-radius: 20px;
            color: white;
            font-size: 24px;
            z-index: 800;
            opacity: 0;
            transition: opacity 0.3s;
            text-align: center;
        }

        .word-popup.visible {
            opacity: 1;
        }

        .word-russian {
            color: #FF6B6B;
            font-size: 28px;
        }

        .word-hebrew {
            color: #4ECDC4;
            font-size: 28px;
            margin-top: 10px;
        }

        /* ============ ACHIEVEMENT ============ */
        .achievement {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: linear-gradient(45deg, #FFE66D, #FF6B6B);
            padding: 15px 30px;
            border-radius: 50px;
            color: #1a1a2e;
            font-weight: bold;
            font-size: 18px;
            z-index: 900;
            opacity: 0;
            transition: all 0.5s;
        }

        .achievement.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* ============ PASSWORD SCREEN ============ */
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 4000;
        }

        .password-screen.hidden {
            display: none;
        }

        .password-logo {
            font-size: 80px;
            margin-bottom: 20px;
            animation: lockBounce 2s ease-in-out infinite;
        }

        @keyframes lockBounce {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .password-input {
            padding: 15px 30px;
            font-size: 20px;
            border: 3px solid #FFE66D;
            border-radius: 30px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-align: center;
            outline: none;
            margin-bottom: 15px;
        }

        .password-button {
            padding: 15px 40px;
            font-size: 20px;
            background: linear-gradient(45deg, #FF6B6B, #FFE66D);
            border: none;
            border-radius: 30px;
            color: #1a1a2e;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
        }

        .password-error {
            color: #FF6B6B;
            margin-top: 15px;
            font-size: 16px;
        }

        .password-pig {
            font-size: 80px;
            margin-top: 30px;
            animation: pigHop 0.5s ease-in-out infinite;
        }

        @keyframes pigHop {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }

        /* ============ BABY CHARACTER ============ */
        .baby {
            position: absolute;
            bottom: 48%;
            right: 25%;
            font-size: 80px;
            cursor: pointer;
            animation: babyBounce 2s ease-in-out infinite;
            z-index: 200;
            padding: 10px;
        }

        @keyframes babyBounce {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }

        .baby:hover {
            transform: scale(1.3);
            animation-play-state: paused;
        }

        /* ============ BOSS CHARACTER ============ */
        .boss {
            position: absolute;
            bottom: 50%;
            left: 60%;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid #FF6B6B;
            overflow: hidden;
            cursor: pointer;
            animation: bossRun 20s ease-in-out infinite;
            z-index: 200;
            box-shadow: 0 5px 20px rgba(255,0,0,0.3);
        }

        .boss img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes bossRun {
            0% { left: 10%; transform: scaleX(1); }
            45% { left: 70%; transform: scaleX(1); }
            50% { left: 70%; transform: scaleX(-1); }
            95% { left: 10%; transform: scaleX(-1); }
            100% { left: 10%; transform: scaleX(1); }
        }

        .boss:hover {
            filter: drop-shadow(0 0 20px red);
            animation-play-state: paused;
        }

        /* ============ DOG CHARACTER - DACHSHUND ============ */
        .dog {
            position: absolute;
            bottom: 42%;
            right: 18%;
            cursor: pointer;
            animation: dogWag 0.5s ease-in-out infinite;
            z-index: 200;
            padding: 10px;
        }

        .dog img {
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        @keyframes dogWag {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .dog:hover {
            transform: scale(1.2);
            animation-play-state: paused;
            filter: drop-shadow(0 0 20px brown);
        }

        /* ============ FALLING DONUT ============ */
        .donut {
            position: fixed;
            font-size: 70px;
            cursor: pointer;
            z-index: 300;
            animation: donutFall 6s linear forwards;
            padding: 10px;
        }

        @keyframes donutFall {
            0% { top: -80px; transform: rotate(0deg); }
            100% { top: 110vh; transform: rotate(720deg); }
        }

        .donut:hover {
            filter: drop-shadow(0 0 20px pink);
            animation-play-state: paused;
        }

        /* ============ COFFEE COUNTER ============ */
        .coffee-counter {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 20px;
            color: #FFE66D;
            font-size: 24px;
        }

        /* ============ NATAN CONTAINER ============ */
        .natan-container {
            position: absolute;
            bottom: 45%;
            left: 20%;
            z-index: 200;
        }

        .click-me-label {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: #FFE66D;
            color: #1a1a2e;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 16px;
            white-space: nowrap;
            animation: labelBounce 1s ease-in-out infinite;
        }

        @keyframes labelBounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        /* ============ CLICKED ITEM BOUNCE ============ */
        .clicked-big {
            animation: clickedBigBounce 0.5s ease-in-out !important;
        }

        @keyframes clickedBigBounce {
            0% { transform: scale(1); }
            25% { transform: scale(5) translateY(-30px); }
            50% { transform: scale(5) translateY(0); }
            75% { transform: scale(5) translateY(-20px); }
            100% { transform: scale(1) translateY(0); }
        }

        /* ============ CANNON CHARACTER ============ */
        .cannon {
            position: absolute;
            bottom: 52%;
            left: 5%;
            cursor: pointer;
            animation: cannonRace 30s linear infinite;
            z-index: 200;
            padding: 10px;
        }

        .cannon img {
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        @keyframes cannonRace {
            0% { left: 5%; transform: scaleX(1); }
            45% { left: 80%; transform: scaleX(1); }
            50% { left: 80%; transform: scaleX(-1); }
            95% { left: 5%; transform: scaleX(-1); }
            100% { left: 5%; transform: scaleX(1); }
        }

        .cannon:hover {
            filter: drop-shadow(0 0 40px orange);
            animation-play-state: paused;
        }
    </style>
</head>
<body>
    <!-- ============ TITLE SCREEN ============ -->
    <div class="title-screen" id="titleScreen">
        <div class="title-logo">üöÄ Natan's Procrastination Station üò¥</div>
        <div class="title-subtitle">"Why do today what you can do tomorrow?"</div>
        <div class="title-natan"><img src="images/natan.png" alt="Natan"></div>
        <div style="color: #FFE66D; font-size: 16px; margin: 10px;">Chief of Staff by Day, Master Procrastinator by Night</div>
        <div style="color: white; font-size: 14px;">Learn Hebrew/Russian while avoiding work!</div>
        <button class="start-button" onclick="startGame()">üéÆ Start Procrastinating!</button>
    </div>

    <!-- ============ PASSWORD SCREEN ============ -->
    <div class="password-screen" id="passwordScreen">
        <div class="password-logo">üîí</div>
        <h2 style="color: white; margin-bottom: 20px;">Enter Password</h2>
        <input type="password" id="passwordInput" class="password-input" placeholder="Type password..." autocomplete="off">
        <button class="password-button" onclick="checkPassword()">Enter</button>
        <div id="passwordError" class="password-error"></div>
        <div class="password-pig">üê∑</div>
        <div style="color: rgba(255,255,255,0.5); font-size: 14px; margin-top: 10px;">Hint: What's hopping around? üëÜ</div>
    </div>

    <!-- ============ GAME CONTAINER ============ -->
    <div class="game-container" id="gameContainer">
        <div class="office-bg"></div>
        <div class="desk"></div>
        <div class="office-plant">ü™¥</div>
        <div class="office-shelf">üìö</div>
        <div class="office-clock">üïê</div>
        <div class="office-lamp">üí°</div>
        <div class="boston-flag">üá∫üá∏</div>
        <div class="boston-lobster">ü¶û</div>
        <div class="computer">üíª</div>

        <div class="natan-container">
            <div class="click-me-label" id="clickMeLabel">Click me!</div>
            <div class="natan" id="natan" onclick="clickNatan()"><img src="images/natan.png" alt="Natan"></div>
        </div>
        <div class="deadline" id="deadline" onclick="clickDeadline()">üìÖ</div>
        <div class="baby" id="baby" onclick="clickBaby()">üë∂</div>
        <div class="boss" id="boss" onclick="clickBoss()"><img src="images/tzvika.png" alt="Tzvikush"></div>
        <div class="dog" id="dog" onclick="clickDog()"><img src="images/dachshund.jpeg" alt="Zehuva" style="width:120px;height:auto;"></div>
        <div class="cannon" id="cannon" onclick="clickCannon()"><img src="images/cannon.jpeg" alt="Cannon" style="width:150px;height:auto;"></div>
    </div>

    <!-- ============ UI ============ -->
    <div class="game-ui">
        <div class="score-display">
            <span>‚òï <span id="coffeeScore">0</span></span>
            <span>üì± <span id="distractionScore">0</span></span>
            <span>üìã <span id="tasksAvoided">0</span></span>
        </div>
    </div>

    <div class="procrastination-meter">
        <div class="meter-label">Procrastination Level</div>
        <div class="meter-fill" id="meterFill"></div>
    </div>

    <div class="coffee-counter" id="coffeeCounter">‚òï x 0</div>

    <!-- ============ WORD POPUP ============ -->
    <div class="word-popup" id="wordPopup">
        <div class="word-russian" id="wordRussian"></div>
        <div class="word-hebrew" id="wordHebrew"></div>
    </div>

    <!-- ============ ACHIEVEMENT ============ -->
    <div class="achievement" id="achievement"></div>

    <!-- ============ WIN POPUP ============ -->
    <div class="popup" id="winPopup">
        <h2>üéâ Level Complete! üéâ</h2>
        <p id="winMessage">You successfully avoided all work!</p>
        <button onclick="nextLevel()">More Procrastination! ‚Üí</button>
    </div>

    <script>
        // ============ GAME STATE ============
        let gameState = {
            coffeeCount: 0,
            distractionCount: 0,
            tasksAvoided: 0,
            procrastinationLevel: 0,
            level: 1,
            gameStarted: false,
            secretCode: ''
        };

        // ============ VOCABULARY ============
        const vocabulary = {
            coffee: { russian: '–ö–æ—Ñ–µ', hebrew: '◊ß◊§◊î', emoji: '‚òï' },
            phone: { russian: '–¢–µ–ª–µ—Ñ–æ–Ω', hebrew: '◊ò◊ú◊§◊ï◊ü', emoji: 'üì±' },
            sleep: { russian: '–°–ø–∞—Ç—å', hebrew: '◊ú◊ô◊©◊ï◊ü', emoji: 'üò¥' },
            snack: { russian: '–ü–µ—Ä–µ–∫—É—Å', hebrew: '◊ó◊ò◊ô◊£', emoji: 'üçï' },
            youtube: { russian: '–Æ—Ç—É–±', hebrew: '◊ô◊ï◊ò◊ô◊ï◊ë', emoji: 'üì∫' },
            meme: { russian: '–ú–µ–º', hebrew: '◊û◊ô◊ù', emoji: 'üòÇ' },
            break: { russian: '–ü–µ—Ä–µ—Ä—ã–≤', hebrew: '◊î◊§◊°◊ß◊î', emoji: '‚è∞' },
            email: { russian: '–ü–æ—á—Ç–∞', hebrew: '◊ê◊ô◊û◊ô◊ô◊ú', emoji: 'üìß' },
            game: { russian: '–ò–≥—Ä–∞', hebrew: '◊û◊©◊ó◊ß', emoji: 'üéÆ' },
            music: { russian: '–ú—É–∑—ã–∫–∞', hebrew: '◊û◊ï◊ñ◊ô◊ß◊î', emoji: 'üéµ' },
            chat: { russian: '–ß–∞—Ç', hebrew: "◊¶'◊ê◊ò", emoji: 'üí¨' },
            nap: { russian: '–î—Ä–µ–º–∞—Ç—å', hebrew: '◊ú◊†◊û◊†◊ù', emoji: 'üí§' },
            cookie: { russian: '–ü–µ—á–µ–Ω—å–µ', hebrew: '◊¢◊ï◊í◊ô◊ô◊î', emoji: 'üç™' },
            pizza: { russian: '–ü–∏—Ü—Ü–∞', hebrew: '◊§◊ô◊¶◊î', emoji: 'üçï' },
            work: { russian: '–†–∞–±–æ—Ç–∞', hebrew: '◊¢◊ë◊ï◊ì◊î', emoji: 'üìã' },
            boss: { russian: '–ë–æ—Å—Å', hebrew: '◊ë◊ï◊°', emoji: 'üëî' },
            deadline: { russian: '–î–µ–¥–ª–∞–π–Ω', hebrew: '◊ì◊ì◊ú◊ô◊ô◊ü', emoji: 'üìÖ' },
            meeting: { russian: '–°–æ–≤–µ—â–∞–Ω–∏–µ', hebrew: '◊§◊í◊ô◊©◊î', emoji: 'üóìÔ∏è' },
            later: { russian: '–ü–æ—Ç–æ–º', hebrew: '◊ê◊ó◊® ◊õ◊ö', emoji: '‚è≥' },
            tomorrow: { russian: '–ó–∞–≤—Ç—Ä–∞', hebrew: '◊û◊ó◊®', emoji: 'üìÜ' }
        };

        const distractionTypes = ['coffee', 'phone', 'sleep', 'snack', 'youtube', 'meme', 'break', 'email', 'game', 'music', 'chat', 'nap', 'cookie', 'pizza'];
        const taskTypes = ['work', 'meeting', 'deadline'];

        const achievements = [
            "‚òï Coffee Addict! Caffeine level: MAXIMUM",
            "üì± Social Media Master! Who needs work?",
            "üò¥ Professional Napper! ZzZzZz...",
            "üçï Snack Champion! Calories don't count when procrastinating",
            "üì∫ YouTube PhD! 'Just one more video...'",
            "üéÆ Gaming God! Work can wait",
            "üí¨ Chat Legend! Very important conversations",
            "‚è∞ Break Time Expert! You deserve it!",
            "üèÜ Master Procrastinator! Natan would be proud",
            "üåü Legendary Avoider! Work? Never heard of it"
        ];

        const natanQuotes = [
            "Natan says: 'I'll do it after this coffee...'",
            "Natan says: 'Let me just check one thing...'",
            "Natan says: 'The deadline isn't THAT close...'",
            "Natan says: 'I work better under pressure anyway'",
            "Natan says: 'This meme is very important research'",
            "Natan says: 'I'm not procrastinating, I'm prioritizing!'",
            "Natan says: 'Five more minutes...'",
            "Natan says: 'I need to be in the right mindset'",
            "Natan says: 'Let me just organize my desk first...'",
            "Natan says: 'Tomorrow-Natan will handle this'"
        ];

        // ============ AUDIO CONTEXT ============
        let audioContext;
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playSound(freq, duration, type = 'sine') {
            if (!audioContext) return;
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = type;
            osc.frequency.value = freq;
            gain.gain.setValueAtTime(0.3, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.start();
            osc.stop(audioContext.currentTime + duration);
        }

        function playCollectSound() {
            playSound(523, 0.1);
            setTimeout(() => playSound(659, 0.1), 50);
            setTimeout(() => playSound(784, 0.15), 100);
        }

        function playCoffeeSound() {
            playSound(300, 0.2, 'sawtooth');
            setTimeout(() => playSound(400, 0.2, 'sawtooth'), 100);
        }

        function playAchievementSound() {
            [523, 659, 784, 1047].forEach((f, i) => {
                setTimeout(() => playSound(f, 0.2), i * 100);
            });
        }

        // ============ AUDIO PLAYBACK ============
        const audioCache = {};

        function playAudio(filename) {
            if (!audioCache[filename]) {
                audioCache[filename] = new Audio('audio/' + filename);
            }
            audioCache[filename].currentTime = 0;
            audioCache[filename].play().catch(() => {});
        }

        // Preload audio files
        function preloadAudio() {
            const words = Object.keys(vocabulary);
            words.forEach(word => {
                audioCache[word + '_ru.mp3'] = new Audio('audio/' + word + '_ru.mp3');
                audioCache[word + '_he.mp3'] = new Audio('audio/' + word + '_he.mp3');
            });
            // Special characters
            const specialFiles = [
                'kaleb_en.mp3', 'kaleb_he.mp3', 'baby_cry.mp3',
                'tzvikush_en.mp3', 'tzvikush_he.mp3',
                'tzvika_angry_ru.mp3', 'tzvika_angry_he.mp3',
                'zehuva_en.mp3', 'zehuva_he.mp3', 'dog_bark.mp3',
                'timhortons.mp3', 'ilya_house.mp3',
                'natan_quote_0.mp3', 'natan_quote_1.mp3', 'natan_quote_2.mp3', 'natan_quote_3.mp3',
                'motto.mp3'
            ];
            specialFiles.forEach(f => {
                audioCache[f] = new Audio('audio/' + f);
            });
        }

        // ============ SHOW WORD ============
        function showWord(wordKey) {
            const word = vocabulary[wordKey];
            if (!word) return;

            const popup = document.getElementById('wordPopup');
            document.getElementById('wordRussian').textContent = `üá∑üá∫ ${word.russian}`;
            document.getElementById('wordHebrew').textContent = `üáÆüá± ${word.hebrew}`;

            popup.classList.add('visible');
            setTimeout(() => popup.classList.remove('visible'), 2500);

            // Play Russian first, then Hebrew
            playAudio(wordKey + '_ru.mp3');
            setTimeout(() => playAudio(wordKey + '_he.mp3'), 1200);
        }

        // ============ SPARKLES ============
        function createSparkles(x, y) {
            const emojis = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚òï', 'üí§'];
            for (let i = 0; i < 8; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                sparkle.style.left = x + (Math.random() - 0.5) * 100 + 'px';
                sparkle.style.top = y + (Math.random() - 0.5) * 100 + 'px';
                sparkle.style.fontSize = (20 + Math.random() * 20) + 'px';
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 800);
            }
        }

        // ============ ACHIEVEMENTS ============
        function showAchievement(text) {
            const el = document.getElementById('achievement');
            el.textContent = text;
            el.classList.add('visible');
            playAchievementSound();
            setTimeout(() => el.classList.remove('visible'), 3000);
        }

        function checkAchievements() {
            const total = gameState.coffeeCount + gameState.distractionCount;
            if (total === 5) showAchievement(achievements[Math.floor(Math.random() * achievements.length)]);
            if (total === 10) showAchievement("üéØ Double Digits! You're on fire (not working)!");
            if (total === 20) showAchievement("üëë Procrastination Royalty!");
            if (gameState.coffeeCount === 5) showAchievement("‚òï‚òï‚òï CAFFEINE OVERLOAD! Heart rate: concerning");
            if (gameState.tasksAvoided === 5) showAchievement("üìã Task Dodger! 5 responsibilities successfully ignored!");
        }

        // ============ UPDATE UI ============
        function updateUI() {
            document.getElementById('coffeeScore').textContent = gameState.coffeeCount;
            document.getElementById('distractionScore').textContent = gameState.distractionCount;
            document.getElementById('tasksAvoided').textContent = gameState.tasksAvoided;
            document.getElementById('coffeeCounter').textContent = `‚òï x ${gameState.coffeeCount}`;

            const level = Math.min((gameState.procrastinationLevel / 100000) * 100, 100);
            document.getElementById('meterFill').style.width = level + '%';

            if (gameState.procrastinationLevel >= 100000) {
                winLevel();
            }
        }

        // ============ SPAWN DISTRACTIONS ============
        function spawnDistraction() {
            if (!gameState.gameStarted) return;

            const type = distractionTypes[Math.floor(Math.random() * distractionTypes.length)];
            const word = vocabulary[type];

            const distraction = document.createElement('div');
            distraction.className = 'distraction';
            distraction.textContent = word.emoji;
            distraction.style.left = (10 + Math.random() * 80) + '%';
            distraction.style.top = (10 + Math.random() * 40) + '%';
            distraction.style.animationDelay = Math.random() * 2 + 's';

            distraction.addEventListener('click', (e) => {
                e.stopPropagation();
                initAudio();

                createSparkles(e.clientX, e.clientY);
                showWord(type);

                if (type === 'coffee') {
                    gameState.coffeeCount++;
                    playCoffeeSound();
                } else {
                    gameState.distractionCount++;
                    playCollectSound();
                }

                gameState.procrastinationLevel += 500;
                updateUI();
                checkAchievements();

                // Show Natan quote
                if (Math.random() < 0.3) {
                    showAchievement(natanQuotes[Math.floor(Math.random() * natanQuotes.length)]);
                }

                distraction.remove();
            });

            document.getElementById('gameContainer').appendChild(distraction);

            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (distraction.parentNode) distraction.remove();
            }, 5000);
        }

        // ============ SPAWN TASKS ============
        function spawnTask() {
            if (!gameState.gameStarted) return;

            const type = taskTypes[Math.floor(Math.random() * taskTypes.length)];
            const word = vocabulary[type];

            const task = document.createElement('div');
            task.className = 'task';
            task.textContent = word.emoji;
            task.style.left = (10 + Math.random() * 80) + '%';
            task.style.top = (10 + Math.random() * 40) + '%';

            task.addEventListener('click', (e) => {
                e.stopPropagation();
                initAudio();

                createSparkles(e.clientX, e.clientY);
                showWord(type);
                playSound(200, 0.3, 'square'); // Negative sound

                gameState.tasksAvoided++;
                gameState.procrastinationLevel += 1000;
                updateUI();
                checkAchievements();

                showAchievement("üìã Task avoided! " + vocabulary.later.russian + " / " + vocabulary.later.hebrew);

                task.remove();
            });

            document.getElementById('gameContainer').appendChild(task);

            setTimeout(() => {
                if (task.parentNode) task.remove();
            }, 4000);
        }

        // ============ SPAWN DONUTS ============
        function spawnDonut() {
            if (!gameState.gameStarted) return;

            const donut = document.createElement('div');
            donut.className = 'donut';
            donut.textContent = 'üç©';
            donut.style.left = (5 + Math.random() * 85) + '%';

            donut.addEventListener('click', (e) => {
                e.stopPropagation();
                initAudio();

                createSparkles(e.clientX, e.clientY);
                playAudio('timhortons.mp3');
                playCollectSound();

                gameState.distractionCount++;
                gameState.procrastinationLevel += 300;
                updateUI();

                showAchievement("üç© Tim Hortons - No Tariffs please!");

                donut.remove();
            });

            document.body.appendChild(donut);

            // Auto-remove after animation ends
            setTimeout(() => {
                if (donut.parentNode) donut.remove();
            }, 6000);
        }

        // ============ CLICK HANDLERS ============
        let natanClickCount = 0;
        const natanSpecialQuotes = [
            "Even I cannot pronounce my name!",
            "I was beaten by an 11 year old in squash!",
            "Notion sucks!",
            "Long live Piggy!"
        ];

        function clickNatan() {
            initAudio();
            createSparkles(event.clientX, event.clientY);

            // Cycle through special quotes - only play voice, no beep
            const quote = natanSpecialQuotes[natanClickCount % natanSpecialQuotes.length];
            showAchievement("üôà Natan: '" + quote + "'");
            playAudio('natan_quote_' + (natanClickCount % natanSpecialQuotes.length) + '.mp3');

            natanClickCount++;

            // Update label
            document.getElementById('clickMeLabel').textContent = 'Try again!';

            // Make Natan bounce big
            const natan = document.getElementById('natan');
            natan.classList.add('clicked-big');
            setTimeout(() => natan.classList.remove('clicked-big'), 500);
        }

        function clickDeadline() {
            initAudio();
            playSound(150, 0.5, 'sawtooth');
            createSparkles(event.clientX, event.clientY);
            showWord('deadline');
            showAchievement("üìÖ The deadline stares back... menacingly");
        }

        function clickBaby() {
            initAudio();
            playCollectSound();
            createSparkles(event.clientX, event.clientY);
            playAudio('kaleb_en.mp3');
            setTimeout(() => playAudio('kaleb_he.mp3'), 800);
            setTimeout(() => playAudio('baby_cry.mp3'), 1600);

            // Make baby bounce big
            const baby = document.getElementById('baby');
            baby.classList.add('clicked-big');
            setTimeout(() => baby.classList.remove('clicked-big'), 500);

            showAchievement("üë∂ Kaleb says: 'Daddy, play with me!' (Great excuse!)");
        }

        function clickBoss() {
            initAudio();
            playSound(100, 0.5, 'sawtooth');
            createSparkles(event.clientX, event.clientY);

            // Play angry "Natan where are you?" in Russian then Hebrew
            playAudio('tzvika_angry_ru.mp3');
            setTimeout(() => playAudio('tzvika_angry_he.mp3'), 1200);

            // Make boss bounce big and angry
            const boss = document.getElementById('boss');
            boss.classList.add('clicked-big');
            setTimeout(() => boss.classList.remove('clicked-big'), 500);

            showAchievement("üò° Tzvikush: 'NATAN! WHERE ARE YOU?!'");
        }

        function clickDog() {
            initAudio();
            playCollectSound();
            createSparkles(event.clientX, event.clientY);
            playAudio('zehuva_en.mp3');
            setTimeout(() => playAudio('zehuva_he.mp3'), 800);
            // Play bark sound
            setTimeout(() => playAudio('dog_bark.mp3'), 1600);

            // Make dog bounce big
            const dog = document.getElementById('dog');
            dog.classList.add('clicked-big');
            setTimeout(() => dog.classList.remove('clicked-big'), 500);

            const dogQuotes = [
                "üêï Zehuva wants walkies! Another great excuse!",
                "üêï Zehuva: 'Woof! Pet me instead of working!'",
                "üêï Zehuva needs attention! Work can wait!",
                "üêï Zehuva is the best distraction! Good girl!"
            ];
            showAchievement(dogQuotes[Math.floor(Math.random() * dogQuotes.length)]);
        }

        function clickCannon() {
            initAudio();
            playCollectSound();
            createSparkles(event.clientX, event.clientY);
            playAudio('ilya_house.mp3');

            // Make cannon bounce big
            const cannon = document.getElementById('cannon');
            cannon.classList.add('clicked-big');
            setTimeout(() => cannon.classList.remove('clicked-big'), 500);

            showAchievement("üèéÔ∏è Ilya is in the house!");
        }

        // ============ PASSWORD CHECK ============
        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            if (input.toLowerCase() === 'piggy') {
                document.getElementById('passwordScreen').classList.add('hidden');
                preloadAudio();
                initAudio();
                // Play motto immediately on successful password
                setTimeout(() => playAudio('motto.mp3'), 100);
            } else {
                document.getElementById('passwordError').textContent = '‚ùå Wrong password! Try again...';
                document.getElementById('passwordInput').value = '';
            }
        }

        // Allow Enter key for password and auto-focus
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('passwordInput').focus();
            document.getElementById('passwordInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') checkPassword();
            });
        });

        // ============ WIN LEVEL ============
        function winLevel() {
            gameState.gameStarted = false;

            const messages = [
                "Maximum procrastination achieved! Your boss would be... disappointed!",
                "You've successfully avoided ALL productivity! Natan approves! üëè",
                "Level complete! Zero work was done. Perfect score!",
                "Procrastination meter: FULL! Time for a well-deserved break from your break!",
                `${gameState.coffeeCount} coffees consumed. Doctor's appointment recommended.`
            ];

            document.getElementById('winMessage').textContent = messages[Math.floor(Math.random() * messages.length)];
            document.getElementById('winPopup').classList.add('visible');
            playAchievementSound();
        }

        function nextLevel() {
            document.getElementById('winPopup').classList.remove('visible');
            gameState.level++;
            gameState.procrastinationLevel = 0;
            gameState.gameStarted = true;
            updateUI();
        }

        // ============ START GAME ============
        function startGame() {
            document.getElementById('titleScreen').classList.add('hidden');
            gameState.gameStarted = true;
            initAudio();

            // Play the motto!
            playAudio('motto.mp3');

            startBackgroundMusic();

            // Spawn distractions periodically
            setInterval(spawnDistraction, 2000);
            setInterval(spawnTask, 4000);
            setInterval(spawnDonut, 3000);

            // Initial spawns
            setTimeout(spawnDistraction, 500);
            setTimeout(spawnDistraction, 1000);
            setTimeout(spawnTask, 1500);
            setTimeout(spawnDonut, 2000);
        }

        // ============ SECRET CODE ============
        document.addEventListener('keydown', (e) => {
            gameState.secretCode += e.key.toLowerCase();
            if (gameState.secretCode.includes('piggy')) {
                gameState.secretCode = '';
                showAchievement("üîì SECRET UNLOCKED! Infinite Coffee Mode! ‚òï‚òï‚òï");
                gameState.coffeeCount += 100;
                gameState.procrastinationLevel = 99;
                updateUI();
            }

            // Keep only last 20 characters
            if (gameState.secretCode.length > 20) {
                gameState.secretCode = gameState.secretCode.slice(-20);
            }
        });

        // ============ BACKGROUND MUSIC - DISCO BEAT ============
        let bgMusicPlaying = false;
        let discoInterval = null;

        function startBackgroundMusic() {
            if (bgMusicPlaying || !audioContext) return;
            bgMusicPlaying = true;

            const bpm = 120;
            const beatTime = 60 / bpm;
            let beat = 0;

            // Disco chord progression
            const chords = [
                [261.63, 329.63, 392.00], // C major
                [220.00, 277.18, 329.63], // A minor
                [349.23, 440.00, 523.25], // F major
                [392.00, 493.88, 587.33], // G major
            ];

            function playBeat() {
                if (!bgMusicPlaying) return;

                const time = audioContext.currentTime;
                const chord = chords[Math.floor(beat / 4) % chords.length];

                // Kick drum on 1 and 3
                if (beat % 2 === 0) {
                    const kick = audioContext.createOscillator();
                    const kickGain = audioContext.createGain();
                    kick.type = 'sine';
                    kick.frequency.setValueAtTime(150, time);
                    kick.frequency.exponentialRampToValueAtTime(50, time + 0.1);
                    kickGain.gain.setValueAtTime(0.5, time);
                    kickGain.gain.exponentialRampToValueAtTime(0.01, time + 0.15);
                    kick.connect(kickGain);
                    kickGain.connect(audioContext.destination);
                    kick.start(time);
                    kick.stop(time + 0.15);
                }

                // Hi-hat on every beat
                const noise = audioContext.createOscillator();
                const noiseGain = audioContext.createGain();
                noise.type = 'square';
                noise.frequency.value = 800 + Math.random() * 200;
                noiseGain.gain.setValueAtTime(0.08, time);
                noiseGain.gain.exponentialRampToValueAtTime(0.01, time + 0.05);
                noise.connect(noiseGain);
                noiseGain.connect(audioContext.destination);
                noise.start(time);
                noise.stop(time + 0.05);

                // Bass on 1 and 3
                if (beat % 2 === 0) {
                    const bass = audioContext.createOscillator();
                    const bassGain = audioContext.createGain();
                    bass.type = 'sawtooth';
                    bass.frequency.value = chord[0] / 2;
                    bassGain.gain.setValueAtTime(0.15, time);
                    bassGain.gain.exponentialRampToValueAtTime(0.01, time + beatTime * 0.8);
                    bass.connect(bassGain);
                    bassGain.connect(audioContext.destination);
                    bass.start(time);
                    bass.stop(time + beatTime);
                }

                // Disco chord stab on 2 and 4 (offbeat)
                if (beat % 2 === 1) {
                    chord.forEach((freq) => {
                        const osc = audioContext.createOscillator();
                        const gain = audioContext.createGain();
                        osc.type = 'square';
                        osc.frequency.value = freq;
                        gain.gain.setValueAtTime(0.06, time);
                        gain.gain.exponentialRampToValueAtTime(0.01, time + 0.1);
                        osc.connect(gain);
                        gain.connect(audioContext.destination);
                        osc.start(time);
                        osc.stop(time + 0.15);
                    });
                }

                beat++;
            }

            // Start the disco beat
            discoInterval = setInterval(playBeat, beatTime * 1000 / 2); // Half beats for hi-hat
        }

        function stopBackgroundMusic() {
            bgMusicPlaying = false;
            if (discoInterval) {
                clearInterval(discoInterval);
                discoInterval = null;
            }
        }
    </script>
</body>
</html>
